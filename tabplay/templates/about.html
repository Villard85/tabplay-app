{% extends "layout.html" %}

{% block content %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<div class="about-box">
	<br>
	<h1>
	Вводные замечания
	</h1>
	<p> Решение задач комбинаторной оптимизации, как правило, связано с перебором достаточно
	большого числа вариантов ответа. Для небольшого числа входных данных подобные задачи легко
	решаются простым перебором, но по мере увеличения размера данных время перебора экспоненциально
	нарастает и решение перестает быть тривиальным. В таком случае приходится прибегать к приближенным
	или <i>эвристическим</i> решениям. В представленном приложении для поиска эвристического решения, в
	 основном, используется генетический алгоритм, подробная реализация которого 
		отлично описана в <a target="_blank" href="https://www.youtube.com/watch?v=uQj5UNhCPuo">
		этом
		</a> и <a target="_blank" href="https://www.youtube.com/watch?v=nhT56blfRpE">
		вот в этом
		</a>видео. Этот алгоритм, по сути, действует методом направленного случайного перебора и 
		не гарантирует нахождение решения даже если оно есть, 
		но обычно позволяет быстро найти "достаточно хорошее" решение. Плюсом данного подхода
		является достаточно простая модификация алгоритма при усложнении постановки задачи, что
		не всегда возможно при других методах решения.</p>
	<h1 id="contents">Содержание</h1>
	<ul class="steps">
		<li>
			<a href="#knapsack">
				Упаковка рюкзака
			</a>
		</li>
		<li>
			<a href="#equip">
				Задача снаряженца
			</a>
		</li>
		<li>
			<a href="#quotas">
				Задача о распределении квот
			</a>
		</li>
		<li>
			<a href="#development">
				Разработка приложения
			</a>
		</li>
	</ul>
	<h1 id="knapsack">Упаковка рюкзака</h1>
	<h2>Формулировка задачи</h2>
	<p>Задача формулируется так: есть набор предметов, каждый из которых имеет определенный объем и стоимость.
	Также имеется рюкзак фиксированного объема. Требуется разместить в рюкзаке предметы из набора так, чтобы
	их общий объем не превышал объема рюкзака, а стоимость была максимальна. При этом каждый предмет имеется 
	только в одном экземпляре.<br>
	В данном приложении использована конкретная формулировка задачи об упаковке, но
	привязываться к ней не стоит. Так, например, "объем" предмета можно понимать и как массу и как время
	выполнения той или иной задачи, под "стоимостью" можно понимать приоритетность той или иной задачи и т.п.
	То есть, модуль ищет универсальное решение задач определенного типа, связанных с распределением 
	ограниченных ресурсов.
	</p>
	<h2>Как пользоваться</h2>
		<ul class="steps">
			<li>
				Для начала нужно наполнить список предметов. Сделать это можно вручную, заполнив поля формы, находящиеся под таблицей предметов или при помощи внешнего файла.
			</li>
			<li>
				В первом варианте (вручную) пользователю нужно ввести название предмета, его "объем" и "стоимость"
				и нажать на кнопку "Добавить в список". </li>
			<li>
				Во втором варианте (из файла) необходимо нажать на кнопку "Обзор", после чего выбрать 
				в открывшемся диалоговом окне необходимый файл. Файл должен иметь простой текстовый формат и иметь расширение <code>txt,csv</code> или <code>dat</code>. Формат содержимого файла
				должен быть таким: "<i>Название предмета, объем предмета, стоимость предмета</i>". Поля данных должны быть
				разделены запятыми, а данные каждого нового предмета должны начинаться с новой строки. Все строки иного формата
				будут игнорироваться при чтении. После выбора файла
				нужно нажать на кнопку "Загрузить из файла", чтобы прочесть его содержимое.
			</li>
			<li>
				После того, как предметы добавлены в список в поле "Введите лимит объема" на панели "Упаковка рюкзака"
				необходимо ввести численное значение ограничения.
			</li>
			<li>
				Теперь осталось только нажать на кнопку "Упаковать вещи" для запуска работы алгоритма.
			</li>
			<li>
				По окончании работы алгоритма в панели "Упаковка рюкзака" выводится полученный результат.
				При этом список упакованных вещей отсортирован по убыванию их стоимости.
			</li>
			<li>
				Если в верхней части окна программы появляется статус "Жадное решение", то это означает, что
				эволюционный алгоритм не справился с решением и для упаковки использован так называемый "жадный" алгоритм.
				Он работает следующим образом: все вещи сортируются по убыванию их удельной стоимости (удельная стоимость=
				стоимость/объем) и в рюкзак пакуется ближайшая влезающая в него вещь с наибольшей удельной стоимостью.
				Такой алгоритм хорош при очень жестком лимите объема, когда из длинного списка вещей нужно упаковать лишь
				2-3 предмета, но в общем случае он также может давать решение сколь угодно далекое от оптимального.
			</li>
			
		</ul>
		<p><a href="#contents">
			&lt;&lt;К содержанию
		</a></p>
	<h1 id="equip">Задача снаряженца</h1>
	<h2>Формулировка задачи</h2>
	<p>Классическая задача о распределении снаряжения формулируется так: группа туристов собирается в поход 
	и имеет набор снаряжения, который необходимо распределить по рюкзакам. При этом каждый элемент снаряжения
	имеет определенную массу \(w_i\) (которую чаще в обиходе называют весом), а для каждого участника 
	установлен свой	весовой коэффициент \(c_j\). В соответствии с общим весом снаряжения, \(W=\sum\limits_i
	w_i\), для каждого туриста вычисляется его норма веса:
	$$
	n_j=\dfrac{c_jW}{\sum\limits_jc_j}
	$$
	Требуется найти такое распределение элементов снаряжения
	по рюкзакам, чтобы минимизировать суммарную величину абсолютных отклонений весов рюкзаков \(b_j\) 
	от соответствующих норм \(n_j\):
	$$
	\sum\limits_j |b_j-n_j| \rightarrow min.
	$$
	В нашем случае для добавления дополнительной гибкости введено также понятие "значимости" j-го рюкзака, \(p_j\). 
	При этом минимизируется чуть более общая <i>целевая функция</i>:
	$$
	\sum\limits_j |b_j-n_j|p_j \rightarrow min.
	$$
	Если установить все \(p_j=1\), то мы возвращаемся к классической формулировке.<br>
	Следует отметить, что в реальной жизни при распределении снаряжения необходимо учитывать также целый набор 
	дополнительных факторов, таких как, например, нежелательность попадания к одному и тому же человеку всех элементов
	снаряжения одного типа (всех палаток, всех котелков и т.п.), ограниченность объема рюкзаков, обязательность
	попадания определенного снаряжения к определенному участнику (GPS-навигатор у штурмана, аптечка у медика, 
	фотоаппарат у фотографа и т.п.). Последнее обстоятельство в нашем приложении учитывается при помощи "начального веса",
	который участвует в подсчете общего веса снаряжения и весовых отклонений, но не подлежит перераспределению
	между участниками. 
	</p>
	<h2>Как пользоваться</h2>
	<ul class="steps">
		<li>
				Для начала нужно наполнить списки снаряжения и участников. Сделать это можно как вручную, заполнив поля форм, 
				находящихся под таблицами снаряжения и участников, соответственно, так и при помощи внешнего файла.
			</li>
			<li>
				Во втором варианте (загрузка из файла) необходимо нажать на кнопку "Обзор", после чего выбрать 
				в открывшемся диалоговом окне необходимый файл. 
			</li>
			<li>
				Файл со списком предметов должен иметь простой текстовый формат и иметь расширение <code>txt,csv</code> 
				или <code>dat</code>. Формат содержимого файла
				должен быть таким: "<i>Название предмета, вес предмета</i>". Поля данных должны быть
				разделены запятыми, а данные каждого нового предмета должны начинаться с новой строки. 
				Все строки иного формата будут игнорироваться при чтении. После выбора файла
				нужно нажать на кнопку "Загрузить из файла", чтобы прочесть его содержимое.
			</li>
			<li>
				Файл со списком участников также должен иметь простой текстовый формат и иметь расширение <code>txt,csv</code> 
				или <code>dat</code>. Формат содержимого файла
				должен быть таким: "<i>Имя участника, весовой коэффициент, начальный вес, 
				значимость</i>". Поля данных должны быть разделены запятыми, а данные каждого 
				нового предмета должны начинаться с новой строки. 
				Все строки иного формата будут игнорироваться при чтении. После выбора файла
				нужно нажать на кнопку "Загрузить из файла", чтобы прочесть его содержимое.
			</li>
			<li>
				После того, как предметы и участники добавлены, на панели "Распределение снаряжения" остается
				только нажать на кнопку "Распределить" для запуска работы алгоритма. 
			</li>
			<li>
				По окончании работы алгоритма в панели "Распределение снаряжения" выводится полученный результат.
			</li>
			<li>
				Если в верхней части окна программы появляется статус "Жадное решение", то это означает, что
				эволюционный алгоритм не справился с решением и для распределения использован так 
				называемый "жадный" алгоритм.
				В данном случае он работает следующим образом: на старте все вещи сортируются по убыванию их веса, а у участников 
				в рюкзаках лежат только	начальные веса. Далее из списка снаряжения выбирается самый тяжелый неупакованный
				предмет и отправляется в рюкзак к наиболее "недовешенному" участнику. Так продолжается до полного исчерпания
				предметов в списке снаряжения.
				В принятой нами формулировке задачи такой алгоритм чаще всего и приводит к наиболее хорошему решению.
			</li>
	</ul>
	<p><a href="#contents">
			&lt;&lt;К содержанию
		</a></p>
	<h1 id="quotas">Задача о распределении квот</h1>
	<h2>Формулировка задачи</h2>
	<p>Данная задача, фактически, является частным случаем предыдущей задачи ("задачи снаряженца") и формулируется так: 
	на предприятии выполняются работы, каждая их которых требует определенного количества расходного материала, 
	\(q_j\), который выделяется в виде порций фиксированного размера (<i>квот</i>). Общее количество "порций" материала, 
	имеющегося в распоряжении предприятия, ограничено величиной \(Q\).
	Каждая работа также имеет свою приоритетность, выражаемую целым положительным числом \(p_j\). 
	Следует заметить, что более "важным" работам в данной формулировке соответствует большее, а не меньшее, значение
	приоритета \(p_j\). Требуется распределить квоты между работами так, чтобы 
	минимизировать общую "неудовлетворенность" заказчиков работ, вычисляемую по формуле:
	$$
	\sum\limits_j|n_j-q_j|\log(p_j+1)\rightarrow min,\quad \sum\limits_j n_j\leq Q,
	$$
	где \(n_j\) - фактически выделенное на j-ю работу количество квот. Несмотря на то, что данная задача
	может быть успешно решена методами <a target="_blank" href="https://ru.wikipedia.org/wiki/%D0%A6%D0%B5%D0%BB%D0%BE%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">
		линейной целочисленной оптимизации
	</a>, здесь она также решается в рамках общего подхода с использованием эволюционного алгоритма.
	</p>
	<h2>Как пользоваться</h2>
	<ul class="steps">
		<li>
				Сначала нужно наполнить список заказчиков работ. Сделать это можно как вручную, заполнив поля формы, 
				находящиеся под таблицей заказчиков на панели "Список заказов", так и при помощи внешнего файла.
			</li>
			<li>
				Во втором варианте (загрузка из файла) необходимо нажать на кнопку "Обзор", после чего выбрать 
				в открывшемся диалоговом окне необходимый файл. 
			</li>
			<li>
				Файл со списком заказов должен иметь простой текстовый формат и иметь расширение <code>txt,csv</code> 
				или <code>dat</code>. Формат содержимого файла
				должен быть таким: "<i>Заказчик, объем заказа, приоритет</i>". Поля данных должны быть
				разделены запятыми, а данные каждого нового предмета должны начинаться с новой строки. 
				Все строки иного формата будут игнорироваться при чтении. После выбора файла
				нужно нажать на кнопку "Загрузить из файла", чтобы прочесть его содержимое.
			</li>
			<li>
				После того, как заказы добавлены на панели "Распределение квот" необходимо ввести общее
				количество имеющихся в распоряжении квот и нажать на кнопку "Распределить" для запуска работы алгоритма.
			</li>
			<li>
				По окончании работы алгоритма в той же панели "Распределение квот" выводится полученный результат.
			</li>
			<li>
				Если в верхней части окна программы появляется статус "Жадное решение", то это означает, что
				эволюционный алгоритм не справился с решением и для распределения использован так 
				называемый "жадный" алгоритм. Принцип его работы аналогичен тому, что используется в "задаче
				снаряженца".
				
			</li>
	</ul>
	<p><a href="#contents">
			&lt;&lt;К содержанию
		</a></p>
	<h1 id="development">Разработка приложения</h1>
	<p>Приложение создано при помощи микрофреймворка <a target="_blank" href="https://flask.palletsprojects.com/">
		<code>Flask</code></a> на языке <a target="_blank" href="https://www.python.org/">
			<code>Python</code></a>
	в качестве простого учебного примера.
	В дальнейшем планируется улучшить его функционал и добавить возможности для изменения пользователем
	параметров работы алгоритма.<br>
	 <br>
	<a target="_blank" href="https://github.com/Villard85/tabplay-app">
		Страничка проекта на GitHub
	</a>
	<br></p>
	<p><a href="#contents">
			&lt;&lt;К содержанию
		</a></p>
	<br>
	
</div>
{% endblock %}
